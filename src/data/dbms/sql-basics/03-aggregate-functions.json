{
  "id": "aggregate-functions",
  "heading": "Aggregate Functions in SQL – Summarizing Data",
  "blocks": [
    {
      "text": "Aggregate functions perform calculations on multiple rows and return a single result. They are crucial for analytics and reporting."
    },
    {
      "list": [
        "COUNT() – count rows",
        "SUM() – sum numeric values",
        "AVG() – average value",
        "MIN() / MAX() – minimum and maximum values",
        "GROUP BY – group rows by column values",
        "HAVING – filter groups after aggregation"
      ]
    },
    {
      "code": [
        {
          "language": "sql",
          "content": "SELECT user_id, COUNT(order_id) AS total_orders, SUM(amount) AS total_spent\nFROM Orders\nGROUP BY user_id\nHAVING SUM(amount) > 1000;"
        }
      ]
    },
    {
      "text": "Explanation: This query groups orders by user and calculates total orders and total spent. The HAVING clause filters users spending more than 1000."
    },
    {
      "image": {
        "src": "https://via.placeholder.com/800x400?text=Aggregate+Functions",
        "alt": "SQL Aggregate Functions",
        "caption": "How GROUP BY and aggregate functions summarize data in a table."
      }
    },
    {
      "text": "Advanced Examples:"
    },
    {
      "list": [
        "Using multiple aggregate functions in a single query",
        "Combining aggregates with CASE statements",
        "Nested aggregations or subqueries with aggregates"
      ]
    },
    {
      "code": [
        {
          "language": "sql",
          "content": "SELECT category,\n       COUNT(*) AS total_products,\n       AVG(price) AS avg_price,\n       MAX(price) AS highest_price,\n       MIN(price) AS lowest_price\nFROM Products\nGROUP BY category;"
        }
      ]
    },
    {
      "badge": "success",
      "title": "Pro Tip",
      "text": "Aggregate functions are heavily used in dashboards, reports, and data analytics. Combine them creatively for real insights."
    },
    {
      "text": "Mini Exercise: Find the top 3 categories with the highest average product price. Which aggregate functions and clauses would you use?"
    }
  ]
}
